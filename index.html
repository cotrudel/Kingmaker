<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <link rel="stylesheet" type="text/css" href="css/map.css">
    <link rel="stylesheet" type="text/css" href="css/menu.css">
    <link rel="stylesheet" type="text/css" href="css/element.css">
    <link rel="stylesheet" type="text/css" href="css/faction.css">
    <link rel="stylesheet" type="text/css" href="css/fog.css">
    <link rel="stylesheet" type="text/css" href="css/pics.css"> <!-- Font -->

    <!-- Plugins -->
    <script type="text/javascript" src="plugin/jquery.3.2.1.js"></script>

    <link rel="stylesheet" type="text/css" href="plugin/jquery-ui.1.12/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" href="plugin/jquery-ui.1.12/jquery-ui.structure.css" />
    <script type="text/javascript" src="plugin/jquery-ui.1.12/jquery-ui.js"></script>
    
    <link rel="stylesheet" type="text/css" href="plugin/tooltipster/tooltipster.bundle.css" />
    <script type="text/javascript" src="plugin/tooltipster/tooltipster.bundle.js"></script>
    
    <link rel="stylesheet" type="text/css" href="plugin/farbtastic/farbtastic.css" />

    <script type="text/javascript" src="plugin/farbtastic/farbtastic.js"></script>
    <script type="text/javascript" src="plugin/jquery.ddslick.min.js"></script>
    <script type="text/javascript" src="plugin/interact.js"></script>
    <!-- End plugins -->

    <script type="text/javascript" src="js/jsExt.js"></script>
    <script type="text/javascript" src="js/common.js"></script>

    <script type="text/javascript" src="js/tooltip.js"></script>
    <script type="text/javascript" src="js/interact.js"></script>
    <script type="text/javascript" src="js/ddslick.js"></script>

    <script type="text/javascript" src="js/faction.js"></script>
    <script type="text/javascript" src="js/file.js"></script>
    <script type="text/javascript" src="js/saveFile.js"></script>

    <script type="text/javascript" src="js/file.js"></script>
    <script type="text/javascript" src="js/map.js"></script>
    <script type="text/javascript" src="js/menu.js"></script>
    <script type="text/javascript" src="js/element.js"></script>

    <style>
            .haut{
            position:absolute;
            top:13px;
            left:30px;
            }
            </style>
</head>

<body>
    <div class="img">
        <img src="images/map.jpg" class="background" />
    </div>

    <svg height="266" width="230" class="haut ne">
        <polygon points="115,0 230,67 225,72 115,7" style="fill:gray"/>
    </svg>
    <svg height="266" width="230" class="haut e">
        <polygon points="230, 67 230,200 225,195 225, 72" style="fill:red;"/>
    </svg>
    <svg height="266" width="230" class="haut se">
        <polygon points="230,200 115,266 115,259 225,195" style="fill:blue;"/>
    </svg>
    <svg height="266" width="230" class="haut sw">
        <polygon points="115,266 0,200 5,195 115,259" style="fill:yellow;"/>
    </svg>
    <svg height="266" width="230" class="haut w">
        <polygon points="0,200 0,67 5,72 5,195" style="fill:black"/>
    </svg>
    <svg height="266" width="230" class="haut nw">
        <polygon points="0,67 115,0 115,7 5,72" style="fill:cyan"/>
    </svg>

    <!-- layer on the map when we do stuff -->
    <div class="editorBackground"></div>

    <!-- Open / Create a map -->
    <div class="openOrCreateMap hide menu hideableMenu">
        <div class="newMap iconContainer" onclick="createNew()">
            <div class="file gimmeSpace icon icon-new bigIcon newMap" title="Create a new map"></div>
            <input id="createNew" class="hide" type="file" value="data/empty.map" />
        </div>

        <div class="openMap iconContainer">
            <div class="file gimmeSpace icon icon-load bigIcon openMap" title="Load existing map" onclick="loadFile()" ></div>
            <input id="openData" class="hide" type="file" />
        </div>
    </div>

    <!-- Edit element -->
    <div class="editMapDecoration menu hide inFront hideableMenu">
        <select id="editDecorationDdlType" class="decorationType decorationDdl gimmeSpace"></select>
        <select id="editDecorationDdl" class="decorationDdl gimmeSpace"></select>

        <div class="field gimmeFullSpace">
            <input id="decorationToChange" style="display:none" />
        </div>

        <div class="field gimmeFullSpace">
            <label for="titleMapDecoration" title="Title">Title</label>
            <input id="titleMapDecoration" />
        </div>

        <div class="gimmeFullSpace">
            <div class="icon icon-delete delete" onclick="deleteElement()"></div>

            <div class="fr">
                <input type="button" class="save" value="Save changes" onclick="editElement()" />
            </div>
        </div>

        <select id="editDecorationDdlFaction" class="decorationFaction decorationDdl gimmeSpace"></select>
    </div>

    <!-- Add element -->
    <div class="addElement menu hide hideableMenu">
        <select id="decorationDdlType" class="decorationType decorationDdl gimmeSpace"></select>
        <select id="decorationDdl" class="decorationDdl gimmeSpace"></select>

        <input id="addClassMapDecoration" class="hide" value="tooltip tap-target draggable inFront" />

        <div class="field gimmeFullSpace">
            <label for="addTitleMapDecoration">Name</label>
            <input id="addTitleMapDecoration" />
        </div>

        <div class="gimmeFullSpace">
            <input type="button" value="Create element" onclick="createDecoration()" />
        </div>

        <select id="decorationDdlFaction" class="decorationFaction decorationDdl gimmeSpace"></select>
    </div>

    <!-- Color Picker -->
    <div class="colorPicker hide menu hideableMenu">
        <div class="villagePicker testBkg"></div>
        <input id="demoPicker" class="hide" />
        <div id="colorPicker"></div>

        <label id="factionName" class="hide"></label>
        
        <div class="gimmeFullSpace">
            <button onclick="saveColor()">Save color</button>
        </div>
    </div>

    <!-- Save Map (left menu) -->
    <div class="menu wrapper wrapperLeft">
        <div class="saveMap iconContainer">
            <div class="file gimmeSpace icon icon-save bigIcon"  title="Save current map" onclick="saveFile()"></div>
            <input id="saveData" class="hide" />
        </div>

        <hr>

        <div class="icon icon-question askQuestion" onclick="displayQuestion();"></div>
    </div>

    <!-- About -->
    <div class="question menu hide hideableMenu">
        <p class="gimmeFullSpace">
            Map has been done by <a href="https://www.deviantart.com/jonpintar" target="_blank">Jon Pintar</a>.
        </p>
        <p class="gimmeFullSpace">
            Check the code on my <a href="https://github.com/daviddechaux/Kingmaker" target="_blank">Github</a>.
        </p>
    </div>

    <!-- Right menu -->
    <div class="menu wrapper wrapperRight">
        <div class="gimmeFullSpace">
            <button onclick="addMapDecoration()">Add element</button>
        </div>

        <hr>

        <div class="displayer">
            <div class="checkboxDisplay">
                <input type="checkbox" id="building" class="checkbox" name="display-building" checked>
                <label for="building" class="label">Buildings</label>
            </div>
            <div class="checkboxDisplay">
                <input type="checkbox" id="resources" class="checkbox" name="display-resources">
                <label for="resources" class="label">Resources</label>
            </div>
            <div class="checkboxDisplay">
                <input type="checkbox" id="misc" class="checkbox" name="display-misc">
                <label for="misc" class="label">Misc</label>
            </div>
        </div>

        <hr>

        <div class="gimmeFullSpace">
            <button onclick="addFaction()">Add faction</button>
        </div>

        <div class="factions">
        </div>
    </div>

    <div id="player">
        <img src="images/token.png" class="player draggable" />
    </div>

    <div class="mapDecoration">
    </div>
</body>
<script>
    $(document).ready(function () {
        idElement = 1;
        idSelectedElement = 0;
        isMapLoaded = false;
        elementType = ["building", "resources", "misc"];

        // Checkbox
        displayElement("building");
        displayElement("resources");
        displayElement("misc");

        // interactjs
        dragAndDrop();
        tapTarget();

        // Display OpenCreate map
        displayMapOpenner();
        $(window).resize(function () {
            displayMapOpenner();
        });
        $(window).scroll(function () {
            displayMapOpenner();
        });

        // Dropdownlists
        displayNiceDropdownList();

        $(".editorBackground").show();
        $(".wrapper").hide();

        // Display color picker
        addFaction();
    });
</script>

</html>